为了简化复杂度和分工，需要进行“抽象/封装/内外隔离/透明”，内外用“协议/接口”进行交互，各个部分对外只暴露出“输入、功能、输出”

“A another level of abstraction”

计算机历史详见：Crash Course Computer Science

# 从零开始造计算机

从零开始造计算机

## ALU

第一阶段目标：造一个机器计算加减乘除（ALU）

1. 寻找能存储数字的物理物质，以及如何表示数字

   二进制的形式进行存储和运算，磁和电具有这种特性

   > 算盘、齿轮就不说了，不是二进制

   补码表示正负数，也可以设计出浮点数

2. 设计能运算数字的物理部件，以及如何运算数字

   电子管、半导体（晶体管、芯片）

   `与门`、`或门`、`非门`：位运算的基本部件

   > 与门：串行开关
   >
   > 或门：并行开关
   >
   > 非门：开关之前输出，开关之后接地

   电路：输入多位0/1，输出一位或多位0/1。比如`与非`、`或非`、`异或`、`同或`、`半加器`、`全加器`……

   > 列出需求：真值表
   >
   > 对于每个输出位，用`与`/`非`写出各种输入条件下的输出，再用`或`汇总
   >
   > 用卡诺图等优化方法化简表达式
   >
   > 用与门、或门、非门画出电路

3. 制作ALU

## CPU、内存、低级语言

第二阶段目标：造一个机器实现图灵完备的计算（CPU、内存、低级语言）

## 操作系统

第三阶段目标：实现进程、内存、文件、I/O接口的管理（多道程序操作系统）、系统调用（接口）

## 计算机网络

第四阶段目标：实现任意两台计算机的通信（网络）

## 后计算机时代

继续运用搭建计算机的思想，在图灵完备的计算机上，实现更多的可能性

- 编译原理：高级语言
- 数据结构：各种复杂数据类型、存储大量数据的方法
- 算法：处理复杂数据的高效算法
- 软件工程：写代码也要分层抽象
- 密码学
- 3D图形
- 人工智能

# 计算机思想总结

抽象

- 电子元件封装、接口、Cache-主存层、主存-辅存层
- 操作系统分层式，系统调用
- 计算机网络分层，服务协议接口
- 软件工程分工，只要划分清晰，每个人做的都是正确的，那么合起来也是正确的
 - 面向函数
 - 面向对象

计算机领域要学会如何解决问题：明确需求，将复杂任务分层、抽象，结合各种经典算法，去解决问题。

>
> How do you get better at using abstraction?
> [CS61A Fall 2020 Lecture 14 Q&A](<https://www.youtube.com/watch?v=O9HQA0P5M30&list=PL6BsET-8jgYVYo5aO-aILl_unTQIPg0fn&index=10&t=4s>)

---

极端与折衷

套娃\多级：

- 多级页表（拆分避免超出一块）
- 多级索引顺序文件（拆分避免超出一块）
- 外存的多级索引（空间换时间，单级索引只能顺序链接）

---

最优

- Cache替换（选内存的部分到Cahce里）、虚拟存储-页面置换（选外存的部分到内存）
- 内存连续分配-动态分区（选内存的哪些空闲块分配给进程）、外存的空闲分配（选外存的哪些空闲块分配给文件）
- 进程调度算法（根据进程的特质，分配CPU给进程）、I/O调度算法（根据进程的特质，来分配I/O设备给进程）

---

串行/并行：总线，计网的物理层传输

同步/异步：事件的发生时间间隔固定/不定

- 总线，计网的物理层传输
- 进程的异步：多个程序并发执行，各个进程的执行走走停停，以不可预知的速度向前推进，会造成相互关联的进程的数据出错的问题
- 设计进程同步：用以解决异步进程数据关联出错和互斥访问临界资源的问题

单向/双向：总线，计网的物理层传输

---

时分复用：

- 流水线的多发技术
- 总线复用：地址线和数据线共用一组总线
- CPU并发
- 物理层传输信道复用

空分复用：

- 流水线的多发技术
- 多核CPU并行、单指令流多数据流（CPU内有多个ALU）
- 虚拟存储技术
